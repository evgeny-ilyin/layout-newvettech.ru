@use '../../abstracts' as *;

.accordion {
	--min-height: 46px;
	--accordion-padding: 13px 13px 15px 27px;
	--accordion-color: var(--color-black);
	--accordion-bg: var(--color-white);
	--trigger-direction: row-reverse;
	--trigger-justify-content: space-between;
	--trigger-border-radius: 11px;
	--is-opened-color: var(--color-black);
	--is-opened-bg: var(--color-white);
	--is-opened-trigger-color: var(--color-primary);
	--is-closed-trigger-color: var(--color-primary);
	--arrow-color: var(--color-primary);
	--arrow-width: 14px;
	--arrow-margin: -2px 10px 0 0;
	display: flex;
	flex-direction: column;
	gap: 17px;
	position: relative;
	// margin-bottom: 30px;

	// .accordion__item
	&__item {
		color: var(--accordion-color);
		background: var(--accordion-bg);
		border-radius: var(--trigger-border-radius);
		box-shadow: 0 10px 10px 0 rgb(102 115 153 / 10%);
		transition: all $transition-default;

		&.is-opened {
			color: var(--is-opened-color);
			background: var(--is-opened-bg);
		}
	}

	// .accordion__header
	&__header {
		width: 100%;
	}

	// .accordion__trigger
	&__trigger {
		display: flex;
		flex-direction: var(--trigger-direction);
		justify-content: var(--trigger-justify-content);
		align-items: center;
		gap: 20px;
		position: relative;
		width: 100%;
		height: auto;
		min-height: var(--min-height);
		padding: var(--accordion-padding);
		font-size: rem(18);
		font-weight: var(--font-weight-medium);
		line-height: 1.1;
		letter-spacing: -0.01em;
		text-align: left;
		color: currentcolor;
		background: transparent;
		border: 0;
		border-radius: var(--trigger-border-radius);
		cursor: pointer;

		&::before {
			content: '';
			flex: 0 0 auto;
			transform: rotate(225deg);
			width: var(--arrow-width, 14px);
			height: var(--arrow-width, 14px);
			margin: var(--arrow-margin, 20px);
			border-top: 2px solid var(--arrow-color, currentcolor);
			border-left: 2px solid var(--arrow-color, currentcolor);
			transition: all $transition-default;
		}

		@include resp-from(md) {
			font-size: rem(19);
		}

		@include resp-from(desktop) {
			font-size: rem(32);
		}

		@include when-inside('.is-opened') {
			--arrow-margin: 5px 10px 0 0;
			user-select: none;

			&::before {
				transform: rotate(225deg) scale(-1);
			}

			@include resp-from(desktop) {
				--arrow-margin: 8px 6px 0 0;
			}
		}

		// @include no-tap-highlight;
	}

	// .accordion__content
	&__content {
		position: relative;
		max-height: 0;
		overflow: hidden;
		color: var(--is-opened-color);
		transition: max-height $transition-default;

		// * {
		// 	font-size: rem(17);
		// 	line-height: 1.3;
		// }

		& > div {
			padding: var(--accordion-padding);
			padding-top: 0;
		}
	}

	@include resp-from(md) {
		--accordion-padding: 17px 19px 15px 20px;
		--arrow-margin: -5px 10px 0 0;
		// margin-bottom: 38px;
	}

	@include resp-from(desktop) {
		--accordion-padding: 30px 63px 30px 40px;
		--trigger-border-radius: 20px;
		--arrow-width: 25px;
		--arrow-margin: -9px 6px 0 0;
	}
}
